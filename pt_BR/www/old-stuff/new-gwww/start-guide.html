<? include "cabecalho.html";?>


<h1>Guia Rápido para a Tradução do Gnome</h1>

<p>
Este documento tem como objetivo ser um guia rápido sobre como começar
a traduzir programas e manuais do Gnome. Este guia não tem a pretensão
de ser um manual completo sobre o processo de tradução, tentei apenas
fornecer uma visão mais abrangente deste processo, com referências à
documentação relevante. Ele foi concebido para auxiliar novos
colaboradores e, portanto, tem como foco o trabalho do time de
tradução brasileiro do Gnome, parte do esforço maior da LDP-BR.
</p>

<p>
No momento, este guia só cobre a tradução de catálogos de mensagens
(potfiles), responsáveis por traduzir para uma dada língua as frases
presentes na interface de um programa.
</p>

    
<h2>Quero traduzir. E agora?</h2>

<p>
De modo geral, a tradução de catálogos de mensagens envolve três etapas:
</p>

<ol>
  <li> Pegar um catálogo para traduzir ou atualizar; </li>
  <li> Fazer a tradução; </li>
  <li> Enviar o catálogo traduzido. </li>
</ol>

<p>
Nas seções seguintes descreverei em algum detalhe estas etapas.
</p>


<h2>Pegar os Catálogos para Tradução</h2>

<p>
Antes de começar a traduzir você deve obter os catálogos a serem
traduzidos e estes catálogos devem estar atualizados em relação ao
estado atual dos fontes do programa sendo traduzido. Normalmente, se
traduz um programa para a versão <em>seguinte</em> a que está se
utilizando no momento, desta forma é muito importante garantir que o
catálogo está atualizado.
</p>

<p>
O catálogo costuma estar em um arquivo chamado
<code>modulo.pot</code>, onde <code>modulo</code> é o nome do programa
ou conjunto de programas (ex.: <code>gnome-core.pot</code>). Estes
catálogos contém apenas as frases na língua original, sem tradução
alguma. Existem várias maneiras para pegar uma versão atualizada do
catálogo do programa que você deseja traduzir:
</p>

<ul>
  <li> Pegar o <a
  href="ftp://ftp.gnome.org/pub/GNOME/i18n/gnome-i18n-files.tar.gz">conjunto
  de catálogos</a> gerado automaticamente pela <a
  href="http://developer.gnome.org/projects/gtp/status/status.shtml">tabela
  de estado</a> no sítio do <a
  href="http://developer.gnome.org/projects/gtp/">GTP (Gnome
  Translation Project)</a>. Estes catálogos são tão atualizados quanto
  a tabela de estados, ou seja, as vezes passam algum tempo sem serem
  atualizados, veja a data na base da tabela. Além disso, somente os
  pacotes presentes na tabela estão presentes neste pacote. Mas, esta
  é a forma mais fácil de pegar os catálogos.</li> 

  <li> Pegar o código fonte do programa via CVS e extrair o catálogo
  dos fontes. Esta abordagem dá um pouco mais de trabalho mas oferece
  algumas vantagens. Para mais informações sobre como pegar os fontes,
  dê uma olhada neste <a
  href="http://developer.gnome.org/tools/cvs.html">pequeno guia</a>
  sobre o CVS do Gnome e na <a
  href="http://www.cvshome.org/docs/manual/index.html">documentação
  completa do CVS</a> para informações mais detalhadas. Uma vez que
  você tenha os fontes, ainda precisa extrair as frases e criar o
  catálogo atualizado. Normalmente, no código fonte de todos os
  pacotes existe um diretório <code>/po</code> onde ficam as
  traduções, neste diretório existe (na maioria dos pacotes) um script
  chamado <code>update.pl</code>. Execute este script com a opção
  <code>-P</code> para criar uma versão atualizada do catálogo:
  <pre>[gdvieira@romeu po]$ ./update.pl -P</pre>
  </li>

  <li> Pedir para o Ricardo (<a
  href="mailto:ricardo@conectiva.com.br">ricardo@conectiva.com.br</a>)
  mandar um catálogo atualizado para você. Ok, esta é uma maneira
  pouco prática (principalmente para o Ricardo), mas pode ser usada
  como última alternativa.   
</ul>

<p>
Se você está começando uma tradução nova, é só começar a
traduzir. Caso você esteja atualizando uma tradução, tem que mesclar o
catálogo atualizado com a última tradução. Desta forma, você tem um
catálogo atualizado <em>e</em> as traduções que foram aproveitadas da
tradução anterior.
</p>

<p>
Para mesclar use:
<pre>[gdvieira@romeu po]$ msgmerge pt_BR.po modulo.pot</pre>
Onde <code>pt_BR.po</code> é a tradução antiga. É também possível usar 
o script <code>update.pl</code> para atualizar uma tradução que 
<em>já</em> esteja no CVS, com:
<pre>[gdvieira@romeu po]$ ./update.pl pt_BR</pre>
Isto é útil para começar a atualizar um pacote "abandonado". 
</p>

<p>
Para um maior entendimento do processo de extração e mesclagem dos
catálogos, consulte a <a
href="http://www.gnu.org/manual/gettext/html_chapter/gettext_toc.html">documentação
do pacote gettext</a>.  Dentro em breve esperamos colocar no ar um
sistema para automatizar o processo de obtenção e atualização de
catálogos para os tradutores. 
</p>


<h2>Traduzir os Catálogos</h2>

<p>
Os catálogos estão em um formato texto, descrito em maior detalhe <a
href="http://www.gnu.org/manual/gettext/html_chapter/gettext_2.html">nesta
parte</a> da documentação do pacote gettext. Para traduzi-lo, basta
usar seu editor de textos favorito para preencher o campo
<code>msgstr</code> com a tradução da frase no campo
<code>msgid</code>. Porém existem uma série de normas a serem seguidas
ao preencher estes campos, de modo a manter a consistência do
arquivo. Desta forma, a melhor maneira para se fazer uma tradução é
usar um programa especializado para a edição destes arquivos. A
maioria destes programas realiza todos os testes de consistência para
você.
</p>

<p>
Entre as ferramentas de tradução, a única que conheço é o po-mode do
emacs. Apesar de não ser muito intuitivo para quem não conhece o
emacs, o po-mode é muito fácil de se usar, poupa muito trabalho e
evita uma série de erros bobos. <a
href="http://www.gnu.org/manual/gettext/html_chapter/gettext_2.html">A
mesma página</a> da documentação do pacote gettext referida acima trás
instruções de como instalar e usar o po-mode. Se você usa um Red Hat,
o arquivo po-mode.el faz parte do pacote gettext e está em:
<code>/usr/share/emacs/site-lisp/po-mode.el</code>. Dê uma lida na
ajuda on-line, é mais simples do que parece.
</p>

<p>
Um último alerta: tome bastante cuidado com as frases marcadas com
<code>c-format</code>. Estas frases provavelmente serão processadas
por uma chamada de <code>printf()</code> e se não estiverem
consistentes com a frase original podem capotar o programa
traduzido. Execute o programa <code>msgfmt</code> para verificar se
não existe algum erro, como esse e outros, em seu catálogo
traduzido. Use:
<pre>[gdvieira@romeu po]$ msgfmt -c -v -o /dev/null pt_BR.po </pre>
O po-mode do emacs possui o comando <code>V</code> para fazer esta checagem
automaticamente para você, sugiro seu uso antes de concluir uma
tradução.
</p>


<h2>Enviar os Catálogos Traduzidos</h2>

<p>
Para efetivamente incluir o seu catálogo traduzido nos fontes do
programa, você deve enviar o arquivo traduzido para o Ricardo (<a
href="mailto:ricardo@conectiva.com.br">ricardo@conectiva.com.br</a>).
Ele fará o commit do arquivo no CVS do Gnome.  Esperamos poder colocar
em breve no ar um sistema integrado para facilitar o processo de envio
e acompanhamento de traduções.
</p>

<p>
Uma outra opção para enviar suas traduções é mandar diretamente para o
responsável pelo pacote. Em algumas situações, como quando o programa
não é mantido no CVS do Gnome, esta é única maneira. Só lembre-se de
informar que você enviou uma versão atualizada, para que seja possível
manter o controle de como andam as traduções.
</p>

<h2>Mantendo o Contato</h2>

<p>
É muito importante que o time de tradução esteja sempre em
contato. Desta forma, é imprescindível que todos os colaboradores
estejam assinados a <a
href="http://ldp-br.conectiva.com.br/lista.php3">lista ldp-br</a>. É
também interessante a participação na <a
href="http://mail.gnome.org/mailman/listinfo/gnome-i18n">lista
gnome-i18n</a> onde são discutidos assuntos gerais sobre a tradução do
Gnome para várias línguas.
</p>

<p>
Outra forma de contato são os canais de IRC do ldp-br (servidor:
irc.linux.org, canal: #ldp-br) e do gnome-i18n (servidor:
irc.gnome.org, canal: #i18n). Normalmente o canal do ldp-br é meio
parado, mas é um ótimo lugar para trocar idéias sobre tradução. O
canal do gnome-i18n é mais movimentado, mas eles adoram falar alemão o
tempo todo, precisamos de mais brasileiros lá para reverter esta
situação. :)
</p>

<p>
Eu estou a disposição de todos para dúvidas e sugestões sobre
este documento e quaisquer outras dúvidas sobre tradução, no endereço <a
href="mailto:gdvieira@zaz.com.br">gdvieira@zaz.com.br</a>.
</p>

 
<? include "rodape.html";?>
